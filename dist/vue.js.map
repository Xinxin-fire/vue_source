{"version":3,"file":"vue.js","sources":["../src/compiler/index.js","../src/utils.js","../src/observer/array.js","../src/observer/index.js","../src/state.js","../src/init.js","../src/index.js"],"sourcesContent":["const ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*` // 标签名\r\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})` // 获取标签名\r\nconst startTagOpen = new RegExp(`^<${qnameCapture}`) //开始标签\r\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`) //结束标签\r\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/ // 标签属性\r\nconst startTagClose = /^\\s*(\\/?)>/ // 标签闭合\r\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g // 匹配{{}}\r\n\r\n// 通过栈将解析的结果组装成一个树结构\r\nfunction createAstElement(tagName, attrs) {\r\n  return {\r\n    tag: tagName,\r\n    type: 1,\r\n    children: [],\r\n    parent: null,\r\n    attrs\r\n  }\r\n}\r\nlet root = null, stack = []\r\n// 开始标签\r\nfunction start(tagName, attributes) {\r\n  console.log(tagName)\r\n  let element = createAstElement(tagName, attributes)\r\n  if (stack.length > 0) {\r\n    let parent = stack[stack.length - 1]\r\n    element.parent = parent\r\n    parent.children.push(element)\r\n  }\r\n  if (!root) {\r\n    root = element\r\n  }\r\n  stack.push(element)\r\n}\r\n// 结束标签\r\nfunction end(tagName) {\r\n  let last = stack.pop()\r\n  if (last.tag !== tagName) {\r\n    throw new Error('标签有误！')\r\n  }\r\n}\r\n// 文本内容\r\nfunction chars(text) {\r\n  text = text.replace('/\\s/g', '')\r\n  let parent = stack[stack.length - 1]\r\n  if (text) {\r\n    parent.children.push({\r\n      type: 3,\r\n      text\r\n    })\r\n  }\r\n}\r\n// 将html解析成对应的脚本来触发tokens\r\nfunction parseHTML(html) {\r\n  function advance(len) {\r\n    html = html.substring(len)\r\n  }\r\n  function parseStartTag() {\r\n    const start = html.match(startTagOpen)\r\n    if (start) {\r\n      const match = {\r\n        tagName: start[1],\r\n        attrs: []\r\n      }\r\n      advance(start[0].length)\r\n      let end, attr\r\n      // 如果没有遇到闭合标签则不停的解析\r\n      while (!(end = html.match(startTagClose)) && (attr = html.match(attribute))) {\r\n        // 将匹配到属性标签删除\r\n        match.attrs.push({\r\n          name: attr[1],\r\n          value: attr[3] || attr[4] || attr[5],\r\n        })\r\n        advance(attr[0].length)\r\n      }\r\n      if (end) {\r\n        advance(end[0].length)\r\n      }\r\n      // 返回匹配到的属性和标签名\r\n      return match\r\n    }\r\n    return false\r\n  }\r\n  while (html) {\r\n    let textEnd = html.indexOf('<')\r\n    if (textEnd === 0) {\r\n       // 解析开始标签\r\n      const startTagMatch = parseStartTag(html)\r\n      if (startTagMatch) {\r\n        start(startTagMatch.tagName, startTagMatch.attrs)\r\n        continue\r\n      }\r\n      // 解析结束标签\r\n      const endTagMatch = html.match(endTag)\r\n      if (endTagMatch) {\r\n        end(endTagMatch[1])\r\n        advance(endTagMatch[0].length)\r\n        continue\r\n      }\r\n    }\r\n    let text\r\n    if (textEnd > 0) {\r\n      text = html.substring(0, textEnd)\r\n    }\r\n    if (text) {\r\n      chars(text)\r\n      advance(text.length)\r\n    }\r\n  }\r\n}\r\n\r\nexport function compileToFunction(template) {\r\n  parseHTML(template)\r\n  console.log(root)\r\n}\r\n","export function isFunction(val) {\n  return typeof val === 'function'\n}\nexport function isObject(val) {\n  return Object.prototype.toString.call(val) === '[object Object]' || val === null\n}","let oldArrayPrototype = Array.prototype\r\nexport let arrayMethods = Object.create(oldArrayPrototype)\r\nlet methods = [\r\n  'push',\r\n  'pop',\r\n  'shift',\r\n  'unshift',\r\n  'splice',\r\n  'reverse',\r\n  'sort'\r\n]\r\nmethods.forEach(method => {\r\n  // 重写数组上的方法\r\n  arrayMethods[method] = function(...args) {\r\n    oldArrayPrototype[method].call(this, ...args)\r\n    let insert\r\n    let ob = this.__ob__\r\n    switch(method) {\r\n      case 'unshift':\r\n        insert = args\r\n        break\r\n      case 'push':\r\n        insert = args\r\n        break\r\n      case 'splice':\r\n        insert = args.slice(2)\r\n    }\r\n    if (insert) {\r\n      ob.observeArray(insert)\r\n    }\r\n  }\r\n})","import { isObject } from \"../utils\"\nimport { arrayMethods } from \"./array\"\n\n// 通过类来检测数据，类有类型\nclass Observer {\n  constructor(data) { // 对对象中的所有属性进行劫持\n    // 将Observer实例赋值给data的ob属性，方便对数组劫持的时候调用Observe，同时可以判断如果一个数据有ob属性，说明它已经被劫持过了\n    Object.defineProperty(data,' __ob__', {\n      value: this,\n      enumerable: false\n    })\n    if (Array.isArray(data)) {\n      data.__proto__ = arrayMethods\n      // 如果数组的的子元素为对象需要对该子元素进行劫持\n      this.observeArray(data)\n    } else {\n      this.walk(data)\n    }\n  }\n  observeArray(data) {\n    data.forEach(ele => {\n      observe(ele)\n    })\n  }\n  walk(data) {\n    Object.keys(data).forEach(key => {\n      defineReactive(data, key, data[key])\n    })\n  }\n}\n// 对对象的属性进行遍历，用defineProperty对对象的数据进行劫持\nfunction defineReactive(data, key, value) {\n  // 如果对象中的属性还是对象则需要递归调用监测方法\n  observe(value)\n  Object.defineProperty(data, key, {\n    get() {\n      return value\n    },\n    set(newV) {\n      observe(newV) // 如果给对象的属性复制的是一个新对象，则需要对新对象重新劫持\n      value = newV\n    }\n  })\n}\nexport function observe(data) {\n  if (!isObject(data)) {\n    return\n  }\n  if (data.__ob__) {\n    return\n  }\n  new Observer(data)\n}","import { observe } from \"./observer/index\"\nimport { isFunction } from \"./utils\"\n\nexport function initState(vm) { // 状态初始化\n  const opts = vm.$options\n  if (opts.data) {\n    initData(vm)\n  }\n}\nfunction proxy(vm, source, key) {\n  Object.defineProperty(vm, key, {\n    get() {\n      return vm[source][key]\n    },\n    set(newV) {\n      vm[source][key] = newV\n    }\n  })\n}\nfunction initData(vm) {\n  let data = vm.$options.data\n  // 将劫持的数据放在实例的_data上\n  data = vm._data = isFunction(data) ? data.call(vm) : data;\n  // 对数据做一层代理\n  for (let key in data) {\n    proxy(vm, '_data', key)\n  }\n  observe(data)\n}","import { compileToFunction } from \"./compiler/index\"\nimport { initState } from \"./state\"\n\n// 在vue的基础上做一次混合操作，为vue原型添加方法\nexport function initMixin(Vue) {\n  Vue.prototype._init = function (options) {\n    const vm = this\n    vm.$options = options //方便对options进行扩展\n\n    // 对数据进行初始化 data watch computed\n    initState(vm)\n    if (vm.$options.el) {\n      vm.$mounted(vm.$options.el)\n    }\n  }\n\n  Vue.prototype.$mounted = function (el) {\n    const vm = this\n    const options = vm.$options\n    el = document.querySelector(el)\n    // 优先级：render > template > el\n    if (!options.render) {\n      let template = options.template\n      // 如果用户没有传template则取el的内容作为模板\n      if (!template && el) {\n        template = el.outerHTML\n        let render = compileToFunction(template)\n        // 将render函数添加到options上\n        options.render = render\n      }\n    }\n  }\n}\n","import { initMixin } from \"./init\"\n\nfunction Vue(options) {\n  // 初始化Vue实例的配置\n  this._init(options)\n}\n// 扩展原型\ninitMixin(Vue)\nexport default Vue"],"names":["ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","createAstElement","tagName","attrs","tag","type","children","parent","root","stack","start","attributes","console","log","element","length","push","end","last","pop","Error","chars","text","replace","parseHTML","html","advance","len","substring","parseStartTag","match","attr","name","value","textEnd","indexOf","startTagMatch","endTagMatch","compileToFunction","template","isFunction","val","isObject","Object","prototype","toString","call","oldArrayPrototype","Array","arrayMethods","create","methods","forEach","method","args","insert","ob","__ob__","slice","observeArray","Observer","data","defineProperty","enumerable","isArray","__proto__","walk","ele","observe","keys","key","defineReactive","get","set","newV","initState","vm","opts","$options","initData","proxy","source","_data","initMixin","Vue","_init","options","el","$mounted","document","querySelector","render","outerHTML"],"mappings":"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"}